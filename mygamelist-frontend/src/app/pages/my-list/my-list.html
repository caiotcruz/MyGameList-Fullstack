
<div class="list-container">
<div class="list-container">
  <h2>Minha Biblioteca de Jogos</h2>

  <div class="stats-grid" *ngIf="myGames.length > 0">
    <div class="stat-card">
      <h3>{{ totalJogos }}</h3>
      <p>Total de Jogos</p>
    </div>
    <div class="stat-card completed">
      <h3>{{ totalZerados }}</h3>
      <p>Zerados (Completed)</p>
    </div>
    <div class="stat-card playing">
      <h3>{{ totalJogando }}</h3>
      <p>Jogando Agora</p>
    </div>
  </div>

  <div class="empty-state" *ngIf="myGames.length === 0">
    <p>Sua lista est√° vazia! V√° em "Buscar Jogos" para come√ßar.</p>
  </div>

  <table *ngIf="myGames.length > 0">
    <thead>
      <tr>
        <th>Capa</th>
        <th>T√≠tulo</th>
        <th>Status</th>
        <th>Nota</th>
        <th>Review</th>
        <th>A√ß√µes</th> </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of myGames">
        <td><img [src]="item.game.coverUrl" alt="Capa" class="thumb"></td>
        <td>
          <strong>{{ item.game.title }}</strong><br>
          <small>Adicionado em: {{ item.updatedAt | date:'shortDate' }}</small>
        </td>
        <td>
          <span class="badge" [style.background-color]="getStatusColor(item.status)">
            {{ item.status }}
          </span>
        </td>
        <td>
          <span class="score" *ngIf="item.score > 0">‚≠ê {{ item.score }}</span>
          <span class="no-score" *ngIf="item.score === 0">-</span>
        </td>
        <td>{{ item.review || 'Sem coment√°rios' }}</td>
        <td>
            <button class="btn-edit" (click)="abrirEdicao(item)">‚úèÔ∏è Editar</button>
            <button class="btn-delete" (click)="removerJogo(item)" style="margin-left: 5px;">üóëÔ∏è</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
</div> <div class="modal-overlay" *ngIf="isModalOpen">
  <div class="modal-content">
    <h3>Editando: {{ editingGame.title }}</h3>

    <div class="form-group">
      <label>Status:</label>
      <select [(ngModel)]="editingGame.status">
        <option value="PLAN_TO_PLAY">Planejo Jogar</option>
        <option value="PLAYING">Jogando</option>
        <option value="COMPLETED">Zerado / Completado</option>
        <option value="DROPPED">Desisti / Dropado</option>
        <option value="ON_HOLD">Pausado</option>
      </select>
    </div>

    <div class="form-group">
      <label>Nota (0 a 10):</label>
      <input type="number" min="0" max="10" [(ngModel)]="editingGame.score">
    </div>

    <div class="form-group">
      <label>Sua An√°lise (Review):</label>
      <textarea rows="4" [(ngModel)]="editingGame.review" placeholder="O que voc√™ achou do jogo?"></textarea>
    </div>

    <div class="modal-actions">
      <button class="btn-cancel" (click)="fecharModal()">Cancelar</button>
      <button class="btn-save" (click)="salvarAlteracoes()">Salvar</button>
    </div>
  </div>
</div>